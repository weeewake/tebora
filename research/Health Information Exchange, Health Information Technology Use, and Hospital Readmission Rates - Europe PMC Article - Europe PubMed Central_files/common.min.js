var pubmedUnsupportedCharMap={x000b2:"2",x000b3:"3",x000b9:"1",x000c0:"A",x000c1:"A",x000c2:"A",x000c3:"A",x000c4:"A",x000c5:"A",x000c6:"AE",x000c7:"C",x000c8:"E",x000c9:"E",x000ca:"E",x000cb:"E",x000cc:"I",x000cd:"I",x000ce:"I",x000cf:"I",x000d1:"N",x000d2:"O",x000d3:"O",x000d4:"O",x000d5:"O",x000d6:"O",x000d7:"x",x000d8:"O",x000d9:"U",x000da:"U",x000db:"U",x000dc:"U",x000dd:"Y",x000df:"ss",x000e0:"a",x000e1:"a",x000e2:"a",x000e3:"a",x000e4:"a",x000e5:"a",x000e6:"ae",x000e7:"c",x000e8:"e",x000e9:"e",x000ea:"e",x000eb:"e",x000ec:"i",x000ed:"i",x000ee:"i",x000ef:"i",x000f1:"n",x000f2:"o",x000f3:"o",x000f4:"o",x000f5:"o",x000f6:"o",x000f8:"o",x000f9:"u",x000fa:"u",x000fb:"u",x000fc:"u",x000fd:"y",x000ff:"y",x00100:"A",x00101:"a",x00102:"A",x00103:"a",x00104:"A",x00105:"a",x00106:"C",x00107:"c",x00108:"C",x00109:"c",x0010a:"C",x0010b:"c",x0010c:"C",x0010d:"c",x0010e:"D",x0010f:"d",x00110:"D",x00111:"d",x00112:"E",x00113:"e",x00116:"E",x00117:"e",x00118:"E",x00119:"e",x0011a:"E",x0011b:"e",x0011c:"G",x0011d:"g",x0011e:"G",x0011f:"g",x00120:"G",x00121:"g",x00122:"G",x00124:"H",x00125:"h",x00126:"H",x00127:"h",x00128:"I",x00129:"ij",x0012a:"I",x0012b:"ij",x0012e:"I",x0012f:"ij",x00130:"I",x00131:"ij",x00132:"IJ",x00133:"ij",x00134:"J",x00135:"j",x00136:"K",x00137:"k",x00138:"k",x00139:"L",x0013a:"l",x0013b:"L",x0013c:"l",x0013d:"L",x0013e:"l",x0013f:"L",x00140:"l",x00141:"L",x00142:"l",x00143:"N",x00144:"n",x00145:"N",x00146:"n",x00147:"N",x00148:"n",x00149:"n",x0014c:"O",x0014d:"o",x00150:"O",x00151:"o",x00152:"OE",x00153:"oe",x00154:"R",x00155:"r",x00156:"R",x00157:"r",x00158:"R",x00159:"r",x0015a:"S",x0015b:"s",x0015c:"S",x0015d:"s",x0015e:"S",x0015f:"s",x00160:"S",x00161:"s",x00162:"T",x00163:"t",x00164:"T",x00165:"t",x00166:"T",x00167:"t",x00168:"U",x00169:"u",x0016a:"U",x0016b:"u",x0016c:"U",x0016d:"u",x0016e:"U",x0016f:"u",x00170:"U",x00171:"u",x00172:"U",x00173:"u",x00174:"W",x00175:"w",x00176:"Y",x00177:"y",x00178:"Y",x00179:"Z",x0017a:"z",x0017b:"Z",x0017c:"z",x0017d:"Z",x0017e:"z",x001f5:"g",x00405:"S",x00406:"I",x00408:"J",x00455:"s",x00456:"i",x00458:"j",x02102:"C",x0210b:"H",x0210c:"H",x02110:"I",x02111:"I",x02112:"L",x02115:"N",x02119:"P",x0211a:"Q",x0211c:"R",x0211d:"R",x0211e:"Rx",x02124:"Z",x0212b:"A",x0212c:"B",x0212f:"e",x02130:"E",x02131:"F",x02133:"M",x02134:"o",x0e05d:"h",x0e05f:"k",x0e3b2:"fj",x0e500:"A",x0e501:"B",x0e503:"D",x0e504:"E",x0e505:"F",x0e506:"G",x0e507:"H",x0e508:"I",x0e509:"J",x0e50a:"K",x0e50b:"L",x0e50c:"M",x0e50e:"O",x0e512:"S",x0e513:"T",x0e514:"U",x0e515:"V",x0e516:"W",x0e517:"X",x0e518:"Y",x0e520:"A",x0e522:"C",x0e523:"D",x0e526:"G",x0e529:"J",x0e52a:"K",x0e52d:"N",x0e52e:"O",x0e52f:"P",x0e530:"Q",x0e531:"R",x0e532:"S",x0e533:"T",x0e534:"U",x0e535:"V",x0e536:"W",x0e537:"X",x0e538:"Y",x0e539:"Z",x0e540:"a",x0e541:"b",x0e542:"c",x0e543:"d",x0e545:"f",x0e546:"g",x0e547:"h",x0e548:"i",x0e549:"j",x0e54a:"k",x0e54b:"l",x0e54c:"m",x0e54d:"n",x0e54f:"p",x0e550:"q",x0e551:"r",x0e552:"s",x0e553:"t",x0e554:"u",x0e555:"v",x0e556:"w",x0e557:"x",x0e558:"y",x0e559:"z",x0e560:"A",x0e561:"B",x0e562:"C",x0e563:"D",x0e564:"E",x0e565:"F",x0e566:"G",x0e569:"J",x0e56a:"K",x0e56b:"L",x0e56c:"M",x0e56d:"N",x0e56e:"O",x0e56f:"P",x0e570:"Q",x0e572:"S",x0e573:"T",x0e574:"U",x0e575:"V",x0e576:"W",x0e577:"X",x0e578:"Y",x0e579:"Z",x0e580:"a",x0e581:"b",x0e582:"c",x0e583:"d",x0e584:"e",x0e585:"f",x0e586:"g",x0e587:"h",x0e588:"i",x0e589:"j",x0e58a:"k",x0e58b:"l",x0e58c:"m",x0e58d:"n",x0e58e:"o",x0e58f:"p",x0e590:"q",x0e591:"r",x0e592:"s",x0e593:"t",x0e594:"u",x0e595:"v",x0e596:"w",x0e597:"x",x0e598:"y",x0e599:"z",x0ea00:"1",x0ea01:"1",x0ea02:"2",x0ea03:"2",x0ea04:"3",x0ea05:"3",x0ea06:"4",x0ea07:"a",x0ea08:"a",x0ea09:"A",x0ea0a:"a",x0ea0b:"A",x0ea0c:"AB",x0ea10:"b",x0ea11:"B",x0ea12:"b",x0ea13:"B",x0ea14:"B",x0ea15:"B",x0ea16:"BC",x0ea19:"c",x0ea1a:"c",x0ea1b:"c",x0ea1c:"C",x0ea1d:"c",x0ea1e:"c",x0ea1f:"c",x0ea20:"c",x0ea21:"c",x0ea25:"d",x0ea26:"D",x0ea27:"d",x0ea28:"D",x0ea29:"d",x0ea2a:"D",x0ea2b:"D",x0ea2f:"dl",x0ea30:"e",x0ea31:"e",x0ea32:"l",x0ea33:"l",x0ea34:"f",x0ea35:"f",x0ea36:"F",x0ea37:"f",x0ea38:"F",x0ea39:"f",x0ea3a:"F",x0ea3d:"g",x0ea3e:"g",x0ea3f:"G",x0ea40:"g",x0ea41:"G",x0ea46:"H",x0ea47:"h",x0ea48:"h",x0ea49:"i",x0ea4a:"I",x0ea4b:"j",x0ea4c:"J",x0ea4d:"J",x0ea4e:"J",x0ea4f:"k",x0ea50:"k",x0ea51:"k",x0ea52:"K",x0ea53:"K",x0ea54:"k",x0ea55:"l",x0ea56:"L",x0ea57:"l",x0ea5b:"lnV",x0ea5c:"m",x0ea5d:"M",x0ea5e:"m",x0ea5f:"m",x0ea63:"n",x0ea64:"n",x0ea65:"N",x0ea66:"n",x0ea67:"N",x0ea68:"n",x0ea69:"n",x0ea6a:"N",x0ea6d:"nv",x0ea6e:"O",x0ea6f:"O",x0ea70:"O",x0ea72:"F",x0ea73:"p",x0ea74:"P",x0ea75:"p",x0ea76:"P",x0ea77:"p",x0ea78:"P",x0ea79:"p",x0ea7a:"P",x0ea8d:"q",x0ea8e:"Q",x0ea8f:"q",x0ea90:"q",x0ea91:"Q",x0ea92:"q",x0ea93:"Q",x0ea94:"q",x0ea95:"q",x0ea96:"q",x0ea97:"Q",x0ea98:"r",x0ea99:"R",x0ea9a:"R",x0ea9b:"r",x0ea9c:"R",x0ea9d:"R",x0ea9e:"r",x0ea9f:"R",x0eaa0:"r",x0eaa1:"ri",x0eaa2:"R",x0eaa3:"r",x0eaa4:"r1",x0eaa5:"RE",x0eaa9:"ri",x0eaaa:"rj",x0eaab:"rN",x0eaac:"s",x0eaad:"S",x0eaae:"S",x0eaaf:"s",x0eab0:"S",x0eab1:"s",x0eab2:"S",x0eab3:"S",x0eab4:"B",x0eab5:"E",x0eab6:"G",x0eab7:"P",x0eab8:"Q",x0eab9:"t",x0eaba:"T",x0eabb:"T",x0eabc:"t",x0eabd:"T",x0eabe:"t",x0eabf:"T",x0eac5:"TT",x0eac6:"u",x0eac7:"u",x0eac8:"U",x0eac9:"u",x0eaca:"u",x0eacc:"V",x0eacd:"v",x0eace:"v",x0eacf:"V",x0ead0:"v",x0ead1:"V",x0ead2:"v",x0ead3:"v",x0ead4:"V",x0ead5:"v",x0eadc:"w",x0eadd:"w",x0eade:"w",x0eadf:"x",x0eae0:"X",x0eae1:"x",x0eae2:"X",x0eae3:"x",x0eae4:"x",x0eae5:"X",x0eae6:"x",x0eae8:"y",x0eae9:"Y",x0eaea:"y",x0eaeb:"Y",x0eaec:"y",x0eaed:"y",x0eaee:"z",x0eaef:"Z",x0eaf0:"z",x0eaf1:"z",x0eaf2:"Z",x0eaf3:"z",x0eaf4:"z",x0eafc:"B",x0eaff:"A",x0eb04:"w",x0eb05:"m",x0eb06:"M",x0eb07:"E",x0eb08:"W",x0eb0a:"h",x0eb0b:"n",x0eb0d:"H",x0eb0f:"M",x0eb10:"m",x0eb11:"Z",x0eb12:"g",x0eb14:"C",x0eb15:"E",x0eb19:"W",x0eb1a:"a",x0eb1b:"b",x0eb1c:"S",x0eb1e:"J",x0eb1f:"b",x0eb20:"Z",x0eb21:"L",x0eb22:"g",x0fb00:"ffi",x0fb01:"fi",x0fb02:"fl",x0fb03:"ffi",x0fb04:"ffl"};function startTargetBook(e,d,c,b,a){return startTarget(e,d,c,b,a)}function startTarget(h,q,p,n,a){if(!window.focus){return false}var l=",width="+p+",height="+n;var b="menubar=no,toolbar=no,status=no,scrollbars=yes,resizable=yes,dependent=yes,location=no";var d=b+l;if(a){d=d+","+a}q=String(q).replace(/-/g,"_");var o=75;var c=50;var g=o;var f=c;var r=50;var j=25;var k=["menubar","toolbar","statusbar"];for(var m in k){if(String(d).lastIndexOf(k[m]+"=yes")>String(d).lastIndexOf(k[m]+"=no")){r+=j}}try{if(window.screen.width&&p>0){g=Math.ceil((window.screen.width-p))-15}g=(g>0?g:o);if(window.screen.height&&n>0){f=Math.ceil((window.screen.height-n))-r}f=(f>0?f:c)}catch(s){}var t=",left="+g+",top="+f+",screenX="+g+",screenY="+f;d=d+t;w=window.open(h,q,d);if(w!=undefined){w.focus()}h.target=q;return false}function focuswin(a){a=String(a).replace(/-/g,"_");w=window.open("",a,"menubar=yes,scrollbars=yes,toolbar=yes,location=yes,status=yes,directories=yes,resizable=yes");if(w!=undefined){w.focus()}return true}function reverseString(b){var a="";for(i=0;i<=b.length;i++){a=b.charAt(i)+a}return a}function reverseAndReplaceString(c,a,b){return reverseString(c).replace(a,b)}function initUnObscureEmail(a,c){try{if(window.addEventListener){window.addEventListener("load",function(){unObscureEmail(a,c)},false)}else{if(window.attachEvent){window.attachEvent("onload",function(){unObscureEmail(a,c)})}}}catch(b){}}function unObscureEmail(c,g){try{if(typeof(unObscuredEmails)=="undefined"){unObscuredEmails=new Array()}if(!unObscuredEmails[c]){var f=document.getElementsByTagName("span");for(var b=0,a=f.length;b<a;b++){if(f.item(b).className.indexOf(c," ")!=-1){f.item(b).innerHTML=g;unObscuredEmails[c]=true}}}}catch(d){}}function pubMedDbLinkSubmit(b){try{if(b.pubmedOption){b=b.pubmedOption}if(b.options){location.href=b.options[b.options.selectedIndex].value}}catch(a){}return false}function initPubMedLinks(){if(typeof jQuery!=="undefined"){jQuery(document).click(function(c){if(!c){return true}if(c.shiftKey||c.altKey||c.ctrlKey){return true}var b=jQuery(c.target).closest("a, area");if(!b||b.length==0){return true}var a=b.attr("href");if(typeof(a)!="undefined"&&(a.indexOf("sites/entrez")||a.indexOf("/pubmed/"))&&a.indexOf("%5Bauth%5D")){b.attr("href",replacePubMedUnsupportedChars(a))}return true})}}function initRedirectClicks(a){if(a&&typeof jQuery!=="undefined"){jQuery(document).click(function(g){if(!g){return true}if(g.shiftKey||g.altKey||g.ctrlKey){return true}var f=jQuery(g.target).closest("a[ref], area[ref]");if(!f||f.length==0){return true}var d=f.attr("ref");var c=f.attr("href");if(typeof(c)!="undefined"&&c.indexOf("sites/entrez")&&c.indexOf("%5Bauth%5D")){var b=replacePubMedUnsupportedChars(c);if(b!=c){f.attr("href",b)}}if(typeof(d)!="undefined"&&d.indexOf("redirect-to-url")==-1){d=d+"&redirect-to-url="+encodeURIComponent(c)}jQuery.ajax({type:"HEAD",url:a+"?"+d,timeout:1000,async:true});return true})}}function replacePubMedUnsupportedChars(a){a=a.replace(/%26%23(x000[0-7][0-9a-f])%3b/ig,function(c,b){return(String.fromCharCode("0"+b))});a=a.replace(/%26%23(x[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f])%3b/ig,function(c,b){return(pubmedUnsupportedCharMap[b]?pubmedUnsupportedCharMap[b]:"")});return a}var pmc_script={addEvent:function(c,e,d){if(!d.$$guid){d.$$guid=this.addEvent_guid++}if(!c.events){c.events={}}var b=c.events[e];if(!b){b=c.events[e]={};if(c["on"+e]){b[0]=c["on"+e]}}b[d.$$guid]=d;c["on"+e]=a;function a(k){var j=true;k=k||f(window.event);var g=this.events[k.type];for(var h in g){this.$$handleEvent=g[h];if(this.$$handleEvent(k)===false){j=false}}return j}function f(g){g.preventDefault=f.preventDefault;g.stopPropagation=f.stopPropagation;return g}f.preventDefault=function(){this.returnValue=false};f.stopPropagation=function(){this.cancelBubble=true}},addEvent_guid:1,removeEvent:function(a,c,b){if(a.events&&a.events[c]){delete a.events[c][b.$$guid]}}};if(typeof jQuery!=="undefined"){pmc_script.addEvent=function(){}}if(typeof jQuery!=="undefined"&&typeof jQuery.fn!=="undefined"&&typeof jQuery.fn.hoverIntent!=="undefined"){(function(d){var c="mouseenter";var C="mouseleave";var g="evtTS.sensor";var n="mouse.in.sensor";var z="mouse.out.sensor";var I="mouse.in.canvas";var x="mouse.out.canvas";var e="show.canvas";var r="hide.canvas";var b="shown.canvas";var B="gone.canvas";var m="left";var K="right";var u="top";var t="bottom";var l=15;var D=500;var y="hover";var G=270;var F=200;var E=250;var o=100;d.fn.popupSensor=function(O){var P={statIfLonger:D,delayIn:F,delayOut:E,touchable:("ontouchstart" in document.documentElement),label:false};var N=d.fn.extend({},P);d.fn.extend(N,O);return this.each(function(Q){var R=d(this);R.bind(n,p);R.bind(z,h);R.bind(I,J);R.bind(x,v);R.bind(B,k);R.bind(b,M);if(N.touchable){R.bind("click",j);R.bind("touchend",a)}R.data("popupSensor.cfg",d.extend({},N))})};function j(N){N.preventDefault();N.stopPropagation();return false}function a(N){N.preventDefault();N.stopPropagation();var O=d(this);if(Boolean(O.data("__sensor.mouseIn"))){O.trigger(z)}else{O.trigger(n)}return false}function p(P){var Q=d(this),N=A(Q);if(N.touchable){d(document).trigger("touchend")}else{Q.bind(c,f)}Q.data("__sensor.mouseIn",true);if(typeof Q.data(g)==="undefined"||Q.data(g)===null){Q.data(g,P.timeStamp);var O=L(Q);if(typeof O!=="undefined"){O.setEl(Q);O.getCanvasElm().trigger(e)}}}function h(N){var O=d(this);O.data("__sensor.mouseIn",false);q.apply(this,[N])}function f(N){var O=d(this);O.data("__sensor.instantMouseIn",true);O.bind(C,s)}function s(P){var Q=d(this);var N=A(Q);var O=this;Q.unbind(C,s);Q.data("__sensor.instantMouseIn",false);setTimeout(function(){q.apply(O,[P])},N.delayOut)}function J(N){var O=d(this);O.data("__canvas.mouseIn",true)}function v(N){var O=d(this);O.data("__canvas.mouseIn",false);q.apply(this,[N])}function q(O){var P=d(this);var N=L(P);if(typeof N!=="undefined"&&P.data("__canvas.mouseIn")!==true&&P.data("__sensor.mouseIn")!==true&&P.data("__sensor.instantMouseIn")!==true&&P.data("__canvas.shown")===true){N.getCanvasElm().trigger(r)}}function M(O){var P=d(this),N=A(P);if(N.touchable){d(document).one("touchend",function(Q){P.trigger(z)})}P.data("__canvas.shown",true)}function k(P){var Q=d(this),N=A(Q);Q.data("__canvas.shown",false);if(!N.touchable){Q.unbind(c,f)}if(typeof ncbi!=="undefined"&&typeof ncbi.sg!=="undefined"&&typeof ncbi.sg.ping!=="undefined"&&typeof Q.data(g)!=="undefined"){var O=P.timeStamp-Q.data(g);if(N.statIfLonger<O){ncbi.sg.ping(this,P,y,["lifespan="+O])}}if(typeof Q.data(g)!=="undefined"){Q.data(g,null)}}function A(N){return N.data("popupSensor.cfg")}function L(R){var P=R.attr("rid-figpopup")||R.attr("co-rid")||R.attr("rid")||R.closest("[id]"),Q=d("#"+(P.replace(/(:|\.)/g,"\\$1").split(" ").join(",#"))).first(),O=Q.data("popupCanvas_"+P),N=A(R);if(typeof O==="undefined"){if(Q!=null){d.each(["co-class","co-style"],function(S,T){if(R.attr(T)!=null){Q.attr(T,R.attr(T))}})}O=new H({sensorEl:R,el:Q,delayOut:Math.max(N.delayOut,N.delayIn),delayIn:N.delayIn,touchable:N.touchable,label:N.label});if(typeof O!=="undefined"){R.attr("canvas-rid",O.getCanvasElm().attr("id"));Q.data("popupCanvas_"+P,O)}}return O}var H=function(N){this.__name="popupCanvas";this.__cfgDefaults={delayIn:F,delayOut:E,touchable:false,label:false,};this.__cfg={};this.__canvas=undefined;this.__imToLoad=0;this.__imagesBox=undefined;this.__legendBox=undefined;return(this.__init(N)===true?this:undefined)};d.fn.extend(H.prototype,{__init:function(P){d.fn.extend(this.__cfg,this.__cfgDefaults);d.fn.extend(this.__cfg,P);var O=this.__newCanvas();if(O){var N=this;this.bind(c,function(Q){N.__in(Q)});this.bind(C,function(Q){N.__out(Q)});this.bind(e,function(Q){N.show(Q)});this.bind(r,function(Q){N.hide(Q)})}return O},setEl:function(N){this.__cfg.el=N},__in:function(O){var N=this.__cfg;var P=N.el;P.trigger(I)},__out:function(O){var N=this.__cfg;var P=N.el;setTimeout(function(){P.trigger(x)},N.delayOut)},__newCanvas:function(){var P=this.__cfg,R=P.el,S=P.sensorEl,U,Q=this;this.__canvas=d('<div class="co co-default"><div class="co-inner"></div></div>');if(P.touchable){this.__canvas.bind("touchend",function(V){V.preventDefault();V.stopPropagation()})}if(typeof R!=="undefined"){if(typeof R.attr("rid-figpopup")!=="undefined"){U=this.__collectHiresImgs(d(d("#"+R.attr("rid-figpopup").replace(/(:|\.)/g,"\\$1"))[0]))}else{if(typeof S.attr("co-rid")!=="undefined"){var O=d("#"+S.attr("co-rid").replace(/(:|\.)/g,"\\$1").split(" ").join(",#")).clone(true,true);O.find(".ref").filter(":not(.pubmed)").remove();O.each(function(V){var W=d(this);W.append(' [<a class="nowrap ref" href="#'+W.attr("id")+'">Ref list</a>]')}).removeAttr("id").appendTo(this.__getCanvasInner()).show();var N=O.find("a");if(P.touchable){N.bind("touchend",function(V){V.stopPropagation();d(this).trigger("click")}).bind("click",function(V){V.stopPropagation();Q.hide();window.location=d(this).attr("href");return true})}else{N.bind("click",function(V){Q.hide();return true})}U=S.attr("co-rid")}else{if(typeof R.attr("co-content")!=="undefined"){U=""+Math.floor(Math.random()*1000000);this.addContent(R.attr("co-content"))}else{U=this.__collectHiresImgs(R)}}}}if(typeof U!=="undefined"){var T=this.getCanvasElm();if(typeof R.attr("co-legend")=="string"){this.addLegend(R.attr("co-legend"))}if(typeof R.attr("co-legend-rid")=="string"){this.addLegendRid(R.attr("co-legend-rid"))}if(typeof R.attr("co-class")=="string"){this.addClass(R.attr("co-class"))}if(typeof R.attr("co-style")=="string"){this.addStyle(R.attr("co-style"))}T.appendTo(d(document.body));T.attr("id",String("_cid_"+U).replace(/\W+/g,"_"));S.attr("canvas-rid",T.attr("id"));if(typeof ncbi!=="undefined"&&typeof ncbi.sg!=="undefined"&&typeof ncbi.sg.ping!=="undefined"){ncbi.sg.scanLinks(T.find("a").tmpfixPMCLinks().get())}}return typeof U!=="undefined"?true:false},__collectHiresImgs:function(O){var P=undefined;var N=this;if(typeof O!=="undefined"){O.find("img[src-large], img[hires]").each(function(){var Q=d(this);if(typeof Q.attr("src-large")==="undefined"){Q.attr("src-large",Q.attr("hires"))}if(typeof P==="undefined"){P=""}P+="_"+Q.attr("src-large")+"_";N.addImage(Q)})}return P},bind:function(O,N){this.__canvas.bind(O,N)},__getResizeHandler:function(){var N=this;this.__resizer==null?this.__resizer=d.debounce(500,function(O){N.__canvasArrangeLocation()}):0;return this.__resizer},show:function(P){var N=this.__cfg,Q=N.el,O=this;this.__canvas.show();this.__canvasArrangeLocation();if(typeof d.debounce=="function"){d(window).bind("resize",this.__getResizeHandler())}Q.trigger(b)},hide:function(P){var N=this.__cfg,Q=this.__cfg.el,O=this;if(typeof d.debounce=="function"){d(window).unbind("resize",this.__getResizeHandler())}this.__canvas.hide();this.__canvas.removeAttr("style");Q.trigger(B);if(N.touchable){d(document).trigger("touchend")}},addImage:function(P){var Q=this.__cfg,R=Q.el,W=this;if(typeof P.attr("src-large")!=="undefined"){this.__imToLoad+=1;if(this.__imToLoad===1){this.__imagesBox=d('<div class="images-box inline-block"></div>');this.__imagesBox.appendTo(this.__getCanvasInner())}var T,O=R.closest("a"),N=R.find("a").first(),V=P.attr("alt");if(V===undefined){V=""}if(O.length==0&&N.length>0){O=N}var S=d('<img class="large-thumb" alt="'+V+'" src="'+P.attr("src-large")+'" />');if(typeof O!=="undefined"){T=d("<a></a>")}if(typeof T!=="undefined"){d.each(["href","ref","target"],function(X,Y){if(O.attr(Y)!==""){T.attr(Y,O.attr(Y))}});if(Q.touchable){T.bind("touchend",function(X){O.trigger("open");W.hide()})}else{T.bind("click",function(X){X.preventDefault();W.hide();O.trigger("open")})}S.appendTo(T.appendTo(d('<div class="inline-block"></div>').appendTo(this.__imagesBox)))}else{S.appendTo(d('<div class="inline-block"></div>').appendTo(this.__imagesBox))}var U=this;if(S.data("loaded")!==true){S.parent().addClass("in-progress");S.load(function(){var X=d(this);X.data("loaded",true);X.show();X.parent().removeClass("in-progress");U.__imToLoad-=1;U.__canvasArrangeLocation()})}}},addLegend:function(N){var Q=this.__imagesBox.find("a").first().clone(true).empty().removeAttr("class"),P=d(decodeURIComponent(N)),O;P.find("a").replaceWith(function(){return d(this).contents()});O=(Q.length>0?Q.append(P):P);this.__legendBox=d('<div class="legend"/>').append(O).css({"text-align":"left"});this.__legendBox.appendTo(this.__getCanvasInner().css({"text-align":"center"}))},addLegendRid:function(N){var O=d("#"+N.replace(/(:|\.)/g,"\\$1")).clone().removeAttr("id");O!=null?this.addLegend(encodeURIComponent(O.html())):0},addContent:function(N){d('<div class="content">'+decodeURIComponent(N)+"</div>").appendTo(this.__getCanvasInner())},addClass:function(N){this.getCanvasElm().addClass(N)},removeClass:function(N){this.getCanvasElm().removeClass(N)},addStyle:function(N){this.getCanvasElm().attr("style",this.getCanvasElm().attr("style")+";"+N)},__getCanvasInner:function(){return this.__canvas.children(".co-inner").size()>0?this.__canvas.children(".co-inner"):this.__canvas},getCanvasElm:function(){var N=this.__cfg;return this.__canvas},__canvasReCalcLocation:function(T){var S=this.__canvas;var R=this.__imagesBox;var N=this.__legendBox;var P={win:undefined,elm:undefined,cnvs:undefined,ibox:undefined,lbox:undefined};P.win={size:{w:d(window).width(),h:d(window).height()},ltc:{left:d(window).scrollLeft(),top:d(window).scrollTop()}};P.elm={size:{w:T.outerWidth(true),h:T.outerHeight(true)},ltc:T.offset()};P.cnvs={size:{w:S.outerWidth(true),h:S.outerHeight(true)}};if(typeof R!=="undefined"){P.ibox={size:{w:R.outerWidth(true),h:R.outerHeight(true)}}}if(typeof N!=="undefined"){P.lbox={size:{w:N.outerWidth(true),h:N.outerHeight(true)}}}var Q=[{n:u,v:(P.elm.ltc.top-P.win.ltc.top)},{n:t,v:((P.win.ltc.top+P.win.size.h)-(P.elm.ltc.top+P.elm.size.h))}];var O=[{n:m,v:(P.elm.ltc.left-P.win.ltc.left)},{n:K,v:((P.win.ltc.left+P.win.size.w)-(P.elm.ltc.left+P.elm.size.w))},];P.spH=O.sort(function(V,U){return U.v-V.v})[0];P.spV=Q.sort(function(V,U){return U.v-V.v})[0];if(P.cnvs.size.w/P.cnvs.size.h<1||P.win.size.w/P.win.size.h>P.cnvs.size.w/P.cnvs.size.h||(P.spH.v>P.cnvs.size.w)){P.spName=P.spH.n}else{P.spName=P.spV.n}switch(P.spName){case m:P.cnvs.ltc={top:P.elm.ltc.top+P.elm.size.h/2-P.cnvs.size.h/2,left:P.elm.ltc.left-P.cnvs.size.w};break;case K:P.cnvs.ltc={top:P.elm.ltc.top+P.elm.size.h/2-P.cnvs.size.h/2,left:P.elm.ltc.left+P.elm.size.w};break;case u:P.cnvs.ltc={top:P.elm.ltc.top-P.cnvs.size.h,left:P.elm.ltc.left+P.elm.size.w/2-P.cnvs.size.w/2};break;case t:P.cnvs.ltc={top:P.elm.ltc.top+P.elm.size.h,left:P.elm.ltc.left+P.elm.size.w/2-P.cnvs.size.w/2};break;default:P.cnvs.ltc=P.elm.ltc}if((P.cnvs.ltc.top+P.cnvs.size.h)>(P.win.ltc.top+P.win.size.h)){P.cnvs.ltc.top-=(P.cnvs.ltc.top+P.cnvs.size.h)-(P.win.ltc.top+P.win.size.h)}if((P.cnvs.ltc.left+P.cnvs.size.w)>(P.win.ltc.left+P.win.size.w)){P.cnvs.ltc.left-=(P.cnvs.ltc.left+P.cnvs.size.w)-(P.win.ltc.left+P.win.size.w)}if(P.cnvs.ltc.top<P.win.ltc.top){P.cnvs.ltc.top=P.win.ltc.top}if(P.cnvs.ltc.left<P.win.ltc.left){P.cnvs.ltc.left=P.win.ltc.left}return P},__canvasArrangeLocation:function(N){var ae=typeof N==="number"?N:0,R=this.__cfg,T=this.__canvas,X=this,S=R.el,U=this.__legendBox,O=this.__imagesBox;var W=T.find("img");W.each(function(){var af=d(this);if(af.data("loaded")===true){af.css({height:"auto","max-width":"initial","max-height":"initial"});if(ae===0){af.css({width:"auto"})}}});if(typeof U!=="undefined"){U.width("auto")}var Z=this.__canvasReCalcLocation(S);if(typeof Z.ibox!=="undefined"&&typeof Z.lbox!=="undefined"&&Z.lbox.size.w>=Z.ibox.size.w){U.css({width:Math.max(Z.ibox.size.w,G)});Z=this.__canvasReCalcLocation(S)}T.css({top:Z.cnvs.ltc.top+"px",left:Z.cnvs.ltc.left+"px"});if(this.__imToLoad===0&&ae<l){var ad={w:Z.cnvs.size.w/(Z.win.size.w*0.95),h:Z.cnvs.size.h/(Z.win.size.h*0.975)},Y=Math.max(ad.w,ad.h);if(Math.max(ad.w,ad.h)>1){var ab=0;W.each(function(){var af=d(this);if(af.data("loaded")===true){var ag=0;if(af.width()/Y>o){ag=af.width()/Y}else{ag=o}if(ag>0){ab+=af.width()-ag;af.width(ag)}}});if(ab>1){X.__canvasArrangeLocation(ae+1);return}else{if(ad.w>1){T.css({width:(Z.win.size.w*0.9)+"px","overflow-x":"auto","overflow-y":"hidden"})}if(ad.h>1){T.css({height:(Z.win.size.h*0.9)+"px","overflow-y":"auto","overflow-x":"hidden"})}}}var ad={w:(Z.win.size.w*0.95)/Z.cnvs.size.w,h:(Z.win.size.h*0.975)/Z.cnvs.size.h};if(Math.min(ad.w,ad.h)>1){var ac=0;W.each(function(ah){var ai=d(this);var aj=ai.width();var ag=ai.height();ai.width("auto");if(ai.data("loaded")===true&&aj<ai.width()){var af=(1+(Math.min(ad.w,ad.h)-1)*0.5);ai.width(aj*af>ai.width()?"auto":aj*af);ac+=ai.width()-aj}else{ai.width(aj)}});if(ac>1){X.__canvasArrangeLocation(ae+1)}}}else{if(ae<l){var Q=false;var V=W.size();var aa=Z.cnvs.size.w-T.innerWidth()+parseFloat(T.css("padding-left"))+parseFloat(T.css("padding-right"));var P=Z.cnvs.size.h-T.innerHeight()+parseFloat(T.css("padding-top"))+parseFloat(T.css("padding-bottom"));W.each(function(){var af=d(this);if(af.data("loaded")===true){if(af.width()>(Z.win.size.w-aa)/V&&af.width()>o){af.width((Z.win.size.w-aa)/V);Q=true}if(af.height()>(Z.win.size.h-P)/V&&af.width()>o){af.width(af.width()/(af.height()/((Z.win.size.h-P)/V)));Q=true}if(Q&&af.width()<o){af.width(o)}}if(Q){X.__canvasReCalcLocation(S)}})}}}});d.fn.figPopup=function(O){var N={};d.extend(N,{interval:200,delayIn:F,delayOut:E,timeout:200,over:function(P){d(this).trigger(n)},out:function(P){d(this).trigger(z)}});d.extend(N,O);return N};d.fn.extend({tmpfixPMCLinks:function(){return this.map(function(){var N=d(this);var P=N.attr("href");if(typeof P==="string"){var O=P.replace(/(\/+pmc\/+)(PMC\d+)$/,"$1articles/$2").replace(/(\/+pmc\/+articles\/+PMC\d+)$/,"$1/");if(O!==P){N.attr("href",O)}}return this})}})})(jQuery);jQuery(document).ready(function(){var a=new jQuery.fn.figPopup();jQuery("a.figpopup").hoverIntent(a).popupSensor({statIfLonger:500,delayIn:a.delayIn,delayOut:a.delayOut})})}function togglePanel(c){if(typeof jQuery!=="undefined"){var b=jQuery(c);var a=jQuery("#"+b.attr("rid").split(" ").join(",#"));a.fadeToggle(200).toggleClass("hide");b.toggleClass("toggled");if(b.hasClass("toggled")){b.find("span:contains("+decodeURIComponent("%E2%96%BA")+")").replaceWith("<span>&#x25bc;</span>")}else{b.find("span:contains("+decodeURIComponent("%E2%96%BC")+")").replaceWith("<span>&#x25ba;</span>")}}return false}function cpToggle(b){if(typeof jQuery!=="undefined"){jQuery(b).parent().next().fadeToggle(200);var a=jQuery(b).parent().parent();if(a.hasClass("inline-block")){a.removeClass("inline-block")}else{a.addClass("inline-block")}}return false}var xpmc_fp={onLoadHandler:function(){var c=document.forms.journalsearch;if(c.elements["title-switch"]!==undefined){if(c.elements["title-switch"].length!==undefined){var a=(pmc_fp.init_state.title_switch==="hide")?0:1;c.elements["title-switch"][a].checked=true}else{c.elements["title-switch"].value=pmc_fp.init_state.title_switch}}if(c.elements["search-option"]!==undefined){if(c.elements["search-option"].length!==undefined){var b=(pmc_fp.init_state.search_option==="journals")?0:1;c.elements["search-option"][b].checked=true}else{c.elements["search-option"].value=pmc_fp.init_state.search_option}if(typeof jQuery.fn.ncbiautocomplete=="function"){var d=false;if(pmc_fp.has_autocomplete==="yes"){d=true}jQuery("#jterm").ncbiautocomplete("option","isEnabled",d).keyup(function(e){if(e.keyCode===13){return doSearch()}})}}c.elements.tabindex.value=pmc_fp.init_state.tabindex}};if(typeof jQuery!=="undefined"){jQuery(document).ready(function(){if(typeof pmc_fp!=="undefined"&&typeof xpmc_fp!=="undefined"){xpmc_fp.onLoadHandler()}})}jQuery(document).ready(function(){if(jQuery(".epub-link").length==0){return}var b='<div title="Making articles easier to read in PMC"      id="epubDialog"      style="display: none">  <p>We are experimenting with display styles that make it easier to read articles     in PMC.     Our first effort uses eBook readers, which have several "ease of reading"     features already built in.</p>  <p>These PMC articles are best viewed in the <em>iBooks     reader</em>. You may notice problems with the display of certain parts of an article     in other eReaders.</p>  <button id="cancelEpub">Cancel</button>  <button id="downloadEpub" style="float: left">Download article</button>        </div>';var c=jQuery(b).ncbidialog({autoOpen:false,modal:true,width:"500px"});var a=jQuery(".epub-link a");a.on("click",function(d){d.preventDefault();c.ncbidialog("open");c.height(c.height()+5)});jQuery("#cancelEpub").click(function(){c.ncbidialog("close")});jQuery("#downloadEpub").click(function(){c.ncbidialog("close");window.location.href=a.prop("href")})});jQuery(document).ready(function(){jQuery("#internal_links_switch").bind("click",function(c){var b=jQuery(this);var a;if(a=b.text().match(/ (on|off) /)){jQuery.cookie("PMC_SeeExternalArticlesInternally",a[1],{path:"/pmc"})}return true})});jQuery(document).on("click open","a[target],area[target]",function(){var a=jQuery(this);return startTarget(a.attr("href"),a.attr("target"),1024,800)});jQuery(document).ready(function(){initPubMedLinks()});jQuery(document).on("click","a.pmctoggle",function(){return togglePanel(this)});jQuery(document).ready(function(){var a=jQuery;a("a.lang-sw").on("click",function(c){c.preventDefault();var g=a(this),f=a("div.lit-style"),d=g.attr("lang");if(f.size()==1&&d!=null){var b=g.parent().find(".selected").toggleClass("selected").attr("lang");f.toggleClass("slang-"+b).toggleClass("slang-"+d);g.toggleClass("selected");if(typeof a.fn.ncbiinpagenav=="function"){a(".jig-ncbiinpagenav").ncbiinpagenav("destroy").removeData("ncbiinpagenav").ncbiinpagenav({smoothScroll:false,allHeadingLevels:["h2"],headingExclude:":hidden"})}}return false})});jQuery(document).ready(function(){var a=jQuery;a("a[rid]").filter(':not(a[class*="pmctoggle"])').each(function(){var c=a(this),b=a("#"+c.attr("rid"));if(b.is(":hidden")){c.on("click",function(d){a("a[rid="+b.parents().filter(".fm-panel[id]").attr("id")+"]").filter('a[class*="pmctoggle"]').filter(':not(a[class*="toggled"])').click()})}})});String.prototype.rot13=function(a){return(a==null?this:a).replace(/[a-zA-Z]/g,function(b){return String.fromCharCode((b<="Z"?90:122)>=(b=b.charCodeAt(0)+13)?b:b-26)})};String.prototype.reverse=function(a){return(a==null?this:a).split("").reverse().join("")};jQuery(document).ready(function(){var a=jQuery;a(document).on("click","a.oemail",function(d){var f=a(this),b=f.attr("data-email"),c=f.data("fixed");if(c==null&&b!=null){f.data("fixed",true);f.attr("href","mailto:"+b.reverse())}return true})});